---
title: "3:26:42 PM - December 1, 2025"
date: 2025-12-01T02:26:42.846Z
timestamp: 1764556002846
---

## Project Notes

Completed brainstorming and implementation planning for Divine REST Gateway - a Nostr REST caching proxy on Cloudflare Workers.

Key architectural decisions:
- Rust → WASM on Cloudflare Workers
- GET /query?filter=<base64> for CDN cacheability
- Durable Objects for persistent relay websocket connections
- Cloudflare Queues for reliable publishing with verification
- Three-layer cache: CDN (60s) → KV (5-15min) → DO local
- NIP-98 auth for writes
- Hybrid query completion (EOSE || limit || idle timeout || max timeout)
- Request coalescing in DO for concurrent identical queries
- DO sharding for scale

Created two docs:
- docs/plans/2025-12-01-rest-gateway-design.md (design doc)
- docs/plans/2025-12-01-implementation-plan.md (8 phases, bite-sized tasks)

User preferences noted:
- Single relay for now, but designed for scale
- Time-based TTL only (no live invalidation)
- Wants fire-and-forget publishing with worker-side verification/retry
